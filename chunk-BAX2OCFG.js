import{$ as c,F as h,G as m,H as f,M as s,Q as y,R as g,S as v,Xa as j,eb as w,m as b,pa as i}from"./chunk-MD2ROCGJ.js";import{a as l,b as p}from"./chunk-KFZQC3P5.js";function u(o,t){let a=!t?.manualCleanup;a&&!t?.injector&&v(u);let n=a?t?.injector?.get(c)??s(c):null,e;t?.requireSync?e=i({kind:0}):e=i({kind:1,value:t?.initialValue});let d=o.subscribe({next:r=>e.set({kind:1,value:r}),error:r=>{if(t?.rejectErrors)throw r;e.set({kind:2,error:r})}});return n?.onDestroy(d.unsubscribe.bind(d)),j(()=>{let r=e();switch(r.kind){case 1:return r.value;case 2:throw r.error;case 0:throw new m(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}var I={apiURL:"https://fakestoreapi.com",stripeAPIKey:"pk_test_51PT8cSGSFF9Zp2j58o8rbeziMfLcPD31G6ztay34IxbKegfckLTurdJgu3ZlhIBqq2sv49MLJueLk75xU0QrLVAa00nyotcKFJ",serverURL:"http://localhost:4242"};var T=(()=>{let t=class t{constructor(){this.products=i([]),this._http=s(w),this._endPoint=I.apiURL,this._injector=s(y),this.getProducts()}getProducts(){this._http.get(`${this._endPoint}/products/?sort=desc`).pipe(b(n=>n.map(e=>p(l({},e),{qty:1}))),h(n=>this.products.set(n))).subscribe()}getProductById(n){return g(this._injector,()=>u(this._http.get(`${this._endPoint}/products/${n}`)))}};t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();export{T as a};
